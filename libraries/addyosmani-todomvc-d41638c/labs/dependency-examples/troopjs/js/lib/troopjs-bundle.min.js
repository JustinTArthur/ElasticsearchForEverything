 define("template",[],function(){function f(e){function l(e,n,r){return t[f]=n?'" +'+r+'+ "':'";'+r+'o += "',"<%"+String(f++)+"%>"}function c(e,n){return t[n]}function h(e,t){return a[t]||t}var t=[],f=0;return('function template(data) { var o = "'+e.replace(n,"").replace(r,l).replace(s,h).replace(i,c)+'"; return o; }').replace(o,u)}var t={node:function(){var e=require.nodeRequire("fs");return function(n,r){r(e.readFileSync(n,"utf8"))}},browser:function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],t,n,r;if(typeof XMLHttpRequest!="undefined")n=XMLHttpRequest;else e:{for(r=0;r<3;r++){t=e[r];try{n=ActiveXObject(t);break e}catch(i){}}throw new Error("XHR: XMLHttpRequest not available")}return function(t,r){var i=new n;i.open("GET",t,!0),i.onreadystatechange=function(e){i.readyState===4&&r(i.responseText)},i.send(null)}},rhino:function(){var e="utf-8",t=java.lang.System.getProperty("line.separator");return function(r,i){var s=new java.io.File(r),o=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),e)),u=new java.lang.StringBuffer,a,f="";try{a=o.readLine(),a&&a.length()&&a.charAt(0)===65279&&(a=a.substring(1)),u.append(a);while((a=o.readLine())!==null)u.append(t),u.append(a);f=String(u.toString())}finally{o.close()}i(f)}},borked:function(){return function(){throw new Error("Environment unsupported.")}}},n=/^[\n\t\r]+|[\n\t\r]+$/g,r=/<%(=)?([\S\s]*?)%>/g,i=/<%(\d+)%>/gm,s=/(["\n\t\r])/gm,o=/o \+= "";| \+ ""/gm,u="",a={'"':'\\"',"\n":"\\n","	":"\\t","\r":"\\r"},l={},c=t[typeof process!="undefined"&&process.versions&&!!process.versions.node?"node":typeof window!="undefined"&&window.navigator&&window.document||typeof importScripts!="undefined"?"browser":typeof Packages!="undefined"?"rhino":"borked"]();return{load:function(e,t,n,r){var i=t.toUrl(e);c(i,function(s){try{s="define(function() { return "+f(s,e,i,r.template)+"; })"}catch(o){throw o.message="In "+i+", "+o.message,o}r.isBuild?l[e]=s:s+="\n//@ sourceURL='"+i+"'",n.fromText(e,s),t([e],function(e){n(e)})})},write:function(e,t,n){l.hasOwnProperty(t)&&n.asModule(e+"!"+t,l[t])}}}),function(e){e("compose",[],function(){function e(){}function n(e){if(!e)throw new Error("Compose arguments must be functions or objects");return e}function r(e,t,r){var s,o=t.length;for(;r<o;r++){var u=t[r];if(typeof u=="function"){var a=u.prototype;for(var l in a){s=a[l];var c=a.hasOwnProperty(l);if(typeof s=="function"&&l in e&&s!==e[l]){var p=e[l];s==f?s=p:c||(i(s,l,h([].slice.call(t,0,r),!0))?s=p:i(p,l,h([u],!0))||console.error("Conflicted method "+l+", final composer must explicitly override with correct method."))}s&&s.install&&c&&!i(p,l,h([u],!0))?s.install.call(e,l):e[l]=s}}else for(var l in n(u)){var s=u[l];if(typeof s=="function"){if(s.install){s.install.call(e,l);continue}if(l in e&&s==f)continue}e[l]=s}}return e}function i(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];if(i[t]==e)return!0}}function s(e,t){function n(){if(t)return t.apply(this,arguments);throw new Error("Decorator not applied")}return n.install=e,n}function o(e){return function(t){return s(function n(r){var i=this[r];(t=this[r]=i?e(this,i,t):t).install=n},t)}}function f(){throw new Error("This method is required and no implementation has been provided")}function l(){var e=[this];return e.push.apply(e,arguments),c.apply(0,e)}function c(i){function u(){var t;this instanceof u?t=this:(e.prototype=o,t=new e);for(var n=0;n<f;n++){var r=a[n],i=r.apply(t,arguments);if(typeof i=="object")if(i instanceof u)t=i;else for(var s in i)i.hasOwnProperty(s)&&(t[s]=i[s])}return t}var s=arguments,o=s.length<2&&typeof s[0]!="function"?s[0]:r(t(n(i)),s,1);u._getBases=function(e){return e?p:a};var a=h(s),f=a.length;typeof s[s.length-1]=="object"&&(s[s.length-1]=o);var p=h(s,!0);return u.extend=l,c.secure||(o.constructor=u),u.prototype=o,u}function h(e,t){function r(e,i){e:for(var s=0;s<e.length;s++){var o=e[s],u=t&&typeof o=="function"?o.prototype:o;if(t||typeof o=="function"){var a=i&&o._getBases;if(a)r(a(t));else{for(var f=0;f<n.length;f++)if(u==n[f])continue e;n.push(u)}}}}var n=[];return r(e,!0),n}var t=Object.create?function(e){return Object.create(typeof e=="function"?e.prototype:e||Object.prototype)}:function(t){e.prototype=typeof t=="function"?t.prototype:t;var n=new e;return e.prototype=null,n};c._setMixin=function(e){r=e},c.Decorator=s,c.around=o(function(e,t,n){return n.call(e,t)}),c.before=o(function(e,t,n){return function(){var e=n.apply(this,arguments);if(e!==u)return t.apply(this,e||arguments)}});var u=c.stop={},a;return c.after=o(function(e,t,n){return function(){var e=t.apply(this,arguments),r=n.apply(this,arguments);return r===a?e:r}}),c.from=function(e,t){return t?(typeof e=="function"?e.prototype:e)[t]:s(function(n){if(!(this[n]=typeof e=="string"?this[e]:(typeof e=="function"?e.prototype:e)[t||n]))throw new Error("Source method "+t+" was not available to be renamed to "+n)})},c.create=function(e){var n=r(t(e),arguments,1),i=arguments.length;for(var s=0;s<i;s++){var o=arguments[s];typeof o=="function"&&(n=o.call(n)||n)}return n},c.required=f,c.apply=function(e,t){return e?r(e,t,0):l.apply.call(c,0,t)},c.call=function(e){return r(e,arguments,1)},c})}(typeof define!="undefined"?define:function(e,t){typeof module!="undefined"?module.exports=t():Compose=t()}),define("troopjs-core/component/base",["compose","config"],function(t,n){var r=0;return t(function(){this.instanceCount=r++},{displayName:"core/component",config:n,toString:function i(){var e=this;return e.displayName+"@"+e.instanceCount}})}),define("troopjs-core/util/deferred",["jquery"],function(t){return t.Deferred}),define("troopjs-core/util/unique",[],function(){return function(t){var n=this,r=n.length,i=[],s,o,u,a;e:for(o=u=a=0;o<r;o++,u=0){s=n[o];while(u<a)if(t.call(n,s,i[u++])===!0)continue e;i[a++]=s}return i}}),define("troopjs-core/pubsub/topic",["../component/base","../util/unique"],function(t,n){function s(e,t){return e.publisherInstanceCount===t.publisherInstanceCount}var r=Object.prototype.toString,i=r.call(Array.prototype);return t.extend(function(t,n,r){var i=this;i.topic=t,i.publisher=n,i.parent=r,i.publisherInstanceCount=n.instanceCount},{displayName:"core/pubsub/topic",toString:function o(){return this.topic},trace:function(){var t=this,o=t.constructor,u,a,f="",l,c,h;while(t){if(r.call(t)===i){c=n.call(t,s);for(l=0,h=c.length;l<h;l++)a=c[l],c[l]=a.constructor===o?a.trace():a.topic;f+=c.join(",");break}u=t.parent,f+=u?t.publisher+":":t.publisher,t=u}return f}})}),define("troopjs-core/pubsub/hub",["compose","../component/base","./topic"],function(t,n,r){var i=Function,s="memory",o="context",u="callback",a="length",f="head",l="tail",c="next",h="handled",p={},d={},v=0;return t.create({displayName:"core/pubsub/hub",subscribe:function(t){var n=this,r=arguments[a],v=arguments[1],m=arguments[2],g=arguments[3],y,b,w,E,S,x;if(v instanceof i)g=v,m=!1,v=p,y=1;else if(v===!0||v===!1)g=m,m=v,v=p,y=2;else if(m instanceof i)g=m,m=!1,y=2;else{if(!(g instanceof i))return n;y=3}if(t in d){b=d[t],w={callback:arguments[y++],context:v},x=l in b?b[l][c]=w:b[f]=w;while(y<r)x=x[c]={callback:arguments[y++],context:v};b[l]=x;if(m&&s in b){m=b[s],E=m[h];if(m[a]>0)while(w){if(w[h]===E){w=w[c];continue}w[h]=E,w[u].apply(w[o],m),w=w[c]}else while(w){if(w[h]===E){w=w[c];continue}w[h]=E,w[u].call(w[o]),w=w[c]}}}else{S=x={callback:arguments[y++],context:v};while(y<r)x=x[c]={callback:arguments[y++],context:v};d[t]={head:S,tail:x}}return n},unsubscribe:function(t){var n=arguments[a],r=arguments[1],s=arguments[2],h,v,m,g,y=null;if(r instanceof i)s=r,r=p,h=1;else{if(!(s instanceof i))return self;h=2}e:{if(!(t in d))break e;v=d[t],g=v[f];while(h<n){s=arguments[h++],m=y=g;do{if(m[u]===s&&m[o]===r){if(m===g){g=y=m[c];continue}y[c]=m[c];continue}y=m}while(m=m[c])}g&&y?(v[f]=g,v[l]=y):(delete v[f],delete v[l])}return this},publish:function(t){var n,r,i=arguments[h]=v++;if(t in d){n=d[t],n[s]=arguments,r=n[f];if(arguments[a]>0)while(r){if(r[h]===i){r=r[c];continue}r[h]=i,r[u].apply(r[o],arguments),r=r[c]}else while(r){if(r[h]===i){r=r[c];continue}r[h]=i,r[u].call(r[o]),r=r[c]}}else arguments[a]>0&&(d[t]=n={},n[s]=arguments);return this}})}),define("troopjs-core/component/gadget",["compose","./base","../util/deferred","../pubsub/hub"],function(t,n,r,i){var s=null,o=Function,u=/^hub(?::(\w+))?\/(.+)/,a=/^sig\/(.+)/,f=i.publish,l=i.subscribe,c=i.unsubscribe,h="memory",p="subscriptions";return n.extend(function(){var n=this,i=n.constructor._getBases(!0),u,f,l,c,h,p,d={},v,m,g=null;for(c=i.length;c>=0;c--){u=i[c];e:for(g in u){l=u[g];if(!(l instanceof o))continue;m=a.exec(g);if(m!==s){v=m[1];if(v in d){f=d[v],h=p=f.length;while(h--)if(l===f[h])continue e;f[p]=l}else d[v]=[l]}}}t.call(n,{signal:function y(y,e){var t=this,n,i,s=e;if(y in d){n=d[y],i=n.length;while(--i)s=r(function(e){var r=n[i],o=s;e.done(function(){r.call(t,y,o)})});n[0].call(t,y,s)}else e&&e.resolve();return t}})},{displayName:"core/component/gadget","sig/initialize":function(t,n){var r=this,a=r[p]=[],f=s,l,c,d;for(f in r){l=r[f];if(!(l instanceof o))continue;c=u.exec(f),c!==s&&(d=c[2],i.subscribe(d,r,c[1]===h,l),a[a.length]=[d,r,l],r[f]=s)}return n&&n.resolve(),r},"sig/finalize":function(t,n){var r=this,s=r[p],o;while(o=s.shift())i.unsubscribe(o[0],o[1],o[2]);return n&&n.resolve(),r},publish:function(){var t=this;return f.apply(i,arguments),t},subscribe:function(){var t=this;return l.apply(i,arguments),t},unsubscribe:function(){var t=this;return c.apply(i,arguments),t},start:function(t){var n=this;return r(function(i){r(function(t){n.signal("initialize",t)}).done(function(){n.signal("start",i)}).fail(i.reject),t&&i.then(t.resolve,t.reject)}),n},stop:function(t){var n=this;return r(function(i){r(function(t){n.signal("stop",t)}).done(function(){n.signal("finalize",i)}).fail(i.reject),t&&i.then(t.resolve,t.reject)}),n}})}),define("troopjs-core/component/service",["./gadget"],function(t){return t.extend({displayName:"core/component/service"})}),define("troopjs-core/util/merge",[],function(){var t=Array,n=Object;return function r(e){var i=this,s=null,o,u,a,f;for(o=0,u=arguments.length;o<u;o++){e=arguments[o];for(s in e)a=e[s],f=a.constructor,s in i?f===t?i[s]=i[s].concat(a):f===n?r.call(i[s],a):i[s]=a:i[s]=a}return i}}),define("troopjs-core/remote/ajax",["../component/service","../pubsub/topic","jquery","../util/merge"],function(t,n,r,i){return t.extend({displayName:"core/remote/ajax","hub/ajax":function(t,s,o){r.ajax(i.call({headers:{"x-request-id":(new Date).getTime(),"x-components":t instanceof n?t.trace():t}},s)).then(o.resolve,o.reject)}})}),define("troopjs-core/util/uri",["compose"],function(t){var n=null,r=Function,i=Array,s=i.prototype,o=typeof Object.prototype,u=typeof String.prototype,a=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:([^?#]*)(?:\?([^#]*))?(?:#(.*))?)/,f="protocol",l="authority",c="path",h="query",p="anchor",d=["source",f,l,"userInfo","user","password","host","port",c,h,p],v=t.secure;t.secure=!0;var m=t(function(t){var r=this,s,a=n,f,l=/(?:&|^)([^&=]*)=?([^&]*)/g;switch(typeof t){case o:for(a in t)r[a]=t[a];break;case u:while(s=l.exec(str))a=s[1],a in r?(f=r[a],f instanceof i?f[f.length]=s[2]:r[a]=[f,s[2]]):r[a]=s[2]}},{toString:function b(){var e=this,t=n,s=n,o=[],u=0,a;for(t in e){if(e[t]instanceof r)continue;o[u++]=t}o.sort();while(u--){t=o[u],s=e[t];if(s instanceof i){s=s.slice(0),s.sort(),a=s.length;while(a--)s[a]=t+"="+s[a];o[u]=s.join("&")}else o[u]=t+"="+s}return o.join("&")}}),g=t(s,function(t){if(!t||t.length===0)return;var n=this,r,i=/(?:\/|^)([^\/]*)/g;while(r=i.exec(t))n.push(r[1])},{toString:function w(){return this.join("/")}}),y=t(function(t){var n=this,r=a.exec(t),i=r.length,s;while(i--)s=r[i],s&&(n[d[i]]=s);h in n&&(n[h]=m(n[h])),c in n&&(n[c]=g(n[c]))},{toString:function E(){var e=this,t=[f,"://",l,"/",c,"?",h,"#",p],n,r;f in e||t.splice(0,3),c in e||t.splice(0,2),p in e||t.splice(-2,2),h in e||t.splice(-2,2),n=t.length;while(n--)r=t[n],r in e&&(t[n]=e[r]);return t.join("")}});return t.secure=v,y.Path=g,y.Query=m,y}),define("troopjs-core/route/router",["../component/service","../util/uri"],function(t,n){function u(e){var t=e.data,r=n(e.target.location.hash.replace(o,"")),i=r.toString();i!==t[s]&&(t[s]=i,t.publish(s,r))}var r="hashchange",i="$element",s="route",o=/^#/;return t.extend(function(t){this[i]=t},{displayName:"core/route/router","sig/initialize":function(t,n){var s=this;return s[i].bind(r,s,u),n&&n.resolve(),s},"sig/start":function(t,n){var s=this;return s[i].trigger(r),n&&n.resolve(),s},"sig/finalize":function(t,n){var s=this;return s[i].unbind(r,u),n&&n.resolve(),s}})}),define("troopjs-core/store/base",["compose","../component/gadget"],function(t,n){var r="storage";return n.extend({storage:t.required,set:function(t,n,i){this[r].setItem(t,JSON.stringify(n)),i&&i.resolve(n)},get:function(t,n){var i=JSON.parse(this[r].getItem(t));n&&n.resolve(i)},remove:function(t,n){this[r].removeItem(t),n&&n.resolve()},clear:function(t){this[r].clear(),t&&t.resolve()}})}),define("troopjs-core/store/local",["compose","./base"],function(t,n){return t.create(n,{displayName:"core/store/local",storage:window.localStorage})}),define("troopjs-core/store/session",["compose","./base"],function(t,n){return t.create(n,{displayName:"core/store/session",storage:window.sessionStorage})}),define("troopjs-core/dimensions/service",["../component/service"],function(t){function i(e,t,r){e.data.publish(n,t,r)}var n="dimensions",r="$element";return t.extend(function(t,i){var s=this;s[r]=t,s[n]=i},{displayName:"core/dimensions/service","sig/initialize":function(t,s){var o=this;o[r].bind(n+"."+o[n],o,i),s&&s.resolve()},"sig/start":function(t,i){var s=this;s[r].trigger("resize."+n),i&&i.resolve()},"sig/finalize":function(t,s){var o=this;o[r].unbind(n+"."+o[n],i),s&&s.resolve()}})}),define("troopjs-core/component/widget",["./gadget","jquery","../util/deferred"],function(t,n,r){function x(e,t,n){return function(){return f.call(arguments,e),n.apply(t,arguments)}}function T(e){function t(){var t=this,n=t[g],i=arguments,u=a.call(i),f=i.length,c=f>0&&i[f-1][w]instanceof s?l.call(i):o;return c&&c.notifyWith(this,["beforeRender"]),e.call(n,u instanceof s?u.apply(t,i):u),c&&c.notifyWith(this,["afterRender"]),r(function(t){t.done(function(){n.trigger(m,arguments)}),c&&t.then(c.resolve,c.reject,c.notify),n.find(E).weave(t)}),t}return t}var i=null,s=Function,o=undefined,u=Array.prototype,a=u.shift,f=u.unshift,l=u.pop,c=n.fn.trigger,h=n.fn.one,p=n.fn.bind,d=n.fn.unbind,v=/^dom(?::(\w+))?\/([^\.]+(?:\.(.+))?)/,m="widget/refresh",g="$element",y="$proxies",b="one",w="then",E="[data-weave]",S="[data-woven]";return t.extend(function(t,n){var r=this;r[g]=t,n&&(r.displayName=n)},{displayName:"core/component/widget","sig/initialize":function(t,n){var r=this,o=r[g],u=r[y]=[],a=i,f,l,c;for(a in r){f=r[a];if(!(f instanceof s))continue;l=v.exec(a),l!==i&&(c=l[2],f=x(c,r,f),(l[2]===b?h:p).call(o,c,r,f),u[u.length]=[c,f],r[a]=i)}return n&&n.resolve(),r},"sig/finalize":function(t,n){var r=this,i=r[g],s=r[y],o;while(o=s.shift())i.unbind(o[0],o[1]);return n&&n.resolve(),r},weave:function(t){var n=this;return n[g].find(E).weave(t),n},unweave:function(){var t=this;return t[g].find(S).andSelf().unweave(),this},one:function(){var t=this;return h.apply(t[g],arguments),t},bind:function(){var t=this;return p.apply(t[g],arguments),t},unbind:function(){var t=this;return d.apply(t[g],arguments),t},trigger:function(){var t=this;return c.apply(t[g],arguments),t},before:T(n.fn.before),after:T(n.fn.after),html:T(n.fn.html),text:T(n.fn.text),append:T(n.fn.append),prepend:T(n.fn.prepend),empty:function(t){var n=this;return r(function(r){var i=n[g],s=i.contents().detach();i.trigger(m,n),setTimeout(function(){var t=s.get();s.remove(),r.resolve(t)},0),t&&r.then(t.resolve,t.reject)}),n}})}),define("troopjs-core/widget/placeholder",["../component/widget","../util/deferred"],function(t,n){function p(){var e=this,t=arguments,s=t.length,o=s>0&&t[s-1][h]instanceof i?u.call(t):r;return n(function(i){var s,u,h,p;if(a in e)i.resolve(e[a]);else{i.done(function(n){e[l].attr(f,n),e[a]=n}),h=e[c],p=[e[l],h];for(s=0,u=t.length;s<u;s++)p[s+2]=t[s];require([h],function(t){var r=t.apply(t,p);n(function(t){r.start(t)}).done(function(){i.resolve(r)}).fail(i.reject)})}o&&i.then(o.resolve,o.reject)}),e}function d(e){var t=this;return n(function(i){var s;a in t?(s=t[a],delete t[a],t[l].removeAttr(f),n(function(t){s.stop(t)}).then(i.resolve,i.reject)):i.resolve(),e&&i.then(e.resolve,e.reject)}),t}var r=undefined,i=Function,s=Array,o=s.prototype,u=o.pop,a="holding",f="data-"+a,l="$element",c="target",h="then";return t.extend(function(t,n,r){this[c]=r},{displayName:"core/widget/placeholder",release:p,hold:d,finalize:d})}),define("troopjs-core/route/placeholder",["../widget/placeholder"],function(t){var n=null,r="route";return t.extend(function(t,n){this[r]=RegExp(t.data("route"))},{displayName:"core/route/placeholder","hub:memory/route":function(t,i){var s=this,o=s[r].exec(i.path);o!==n?s.release.apply(s,o.slice(1)):s.hold()}})}),define("troopjs-core/widget/application",["../component/widget","../util/deferred"],function(t,n){return t.extend({displayName:"core/widget/application","sig/start":function(t,n){var r=this;return r.weave(n),r},"sig/stop":function(t,n){var r=this;return r.unweave(n),r}})}),define("troopjs-core/util/each",["jquery"],function(t){return t.each}),define("troopjs-core/util/grep",["jquery"],function(t){return t.grep}),define("troopjs-core/util/tr",[],function(){var t=typeof Number();return function(n){var r=this,i=[],s,o=r.length,u;if(typeof o===t&&o===0||o>0&&0 in r&&o-1 in r)for(s=0;s<o;s++)i.push(n.call(r,r[s],s));else if(r)for(u in r)i.push(n.call(r,r[u],u));return i}}),define("troopjs-core/util/when",["jquery"],function(t){return t.when}),define("troopjs-jquery/action",["jquery"],function(t){function v(e,t){return e?e+"."+o:i}function m(e){var n=t(this),i=s.call(arguments,1),a=u in e?e[u].type:o,f=e[o];e.type=o+"/"+f+"."+a,n.trigger(e,i),e.result!==r&&(e.type=o+"/"+f+"!",n.trigger(e,i),e.result!==r&&(e.type=o+"."+a,n.trigger(e,i)))}function g(e){var r=t(e.target).closest("[data-action]");if(r.length===0)return;var s=r.data(),u=a.exec(s[o]);if(u===i)return;var v=u[1],m=u[2],g=u[3];if(m!==n&&!RegExp(m.split(l).join("|")).test(e.type))return;var y=g!==n?g.split(f):[];t.each(y,function(t,r){r in s?y[t]=s[r]:c.test(r)?y[t]=r.slice(1,-1):h.test(r)?y[t]=Number(r):p.test(r)?y[t]=d.test(r):y[t]=n}),r.trigger(t.Event(e,{type:o+"!",action:v}),y),e.stopPropagation()}var n=undefined,r=!1,i=null,s=Array.prototype.slice,o="action",u="originalEvent",a=/^([\w\d\s_\-\/]+)(?:\.([\w\.]+))?(?:\((.*)\))?$/,f=/\s*,\s*/,l=/\.+/,c=/^(["']).*\1$/,h=/^\d+$/,p=/^(?:false|true)$/i,d=/^true$/i;t.event.special[o]={setup:function(n,r,i){t(this).bind(o,n,m)},add:function(n){var r=t.map(n.namespace.split(l),v);r.length!==0&&t(this).bind(r.join(" "),g)},remove:function(n){var r=t.map(n.namespace.split(l),v);r.length!==0&&t(this).unbind(r.join(" "),g)},teardown:function(n){t(this).unbind(o,m)}},t.fn[o]=function(n){return t(this).trigger({type:o+"!",action:n},s.call(arguments,1))}}),define("troopjs-jquery/destroy",["jquery"],function(t){t.event.special.destroy={remove:function(n){var r=this;n.handler.call(r,t.Event({type:n.type,data:n.data,namespace:n.namespace,target:r}))}}}),define("troopjs-jquery/resize",["jquery"],function(t){function a(e,n){var o=t.data(n),u=t(n),a=u.width(),f=u.height();(a!==o[i]||f!==o[s])&&u.trigger(r,[o[i]=a,o[s]=f])}function f(){o.each(a)}var n=null,r="resize",i="w",s="h",o=t([]),u=n;t.event.special[r]={setup:function(n,a,l){var c=this;if(t.isWindow(c))return!1;var h=t.data(c,r,{}),p=t(c);h[i]=p.width(),h[s]=p.height(),o=o.add(c),o.length===1&&(u=setInterval(f,100))},teardown:function(i){var s=this;if(t.isWindow(s))return!1;t.removeData(s,r),o=o.not(s),o.length===0&&u!==n&&clearInterval(u)}}}),define("troopjs-jquery/dimensions",["jquery"],function(t){function a(e,t){return t-e}function f(e){var r=t(this),a=r.width(),f=r.height();t.each(t.data(self,n),function(t,l){var c=l[i],h=l[s],p,d,v;v=c.length,p=c[v-1];while(c[--v]<a)p=c[v];v=h.length,d=h[v-1];while(h[--v]<f)d=h[v];if(p!==l[o]||d!==l[u])l[o]=p,l[u]=d,r.trigger(n+"."+t,[p,d])})}var n="dimensions",r="resize."+n,i="w",s="h",o="_"+i,u="_"+s;t.event.special[n]={setup:function(i,s,o){t(this).bind(r,f).data(n,{})},add:function(r){var o=this,u=r.namespace,f={},l=f[i]=[],c=f[s]=[],h=/(w|h)(\d+)/g,p;while(p=h.exec(u))f[p[1]].push(parseInt(p[2]));l.sort(a),c.sort(a),t.data(o,n)[u]=f},remove:function(r){delete t.data(this,n)[r.namespace]},teardown:function(i){t(this).removeData(n).unbind(r,f)}}}),define("troopjs-jquery/hashchange",["jquery"],function(t){function a(e){var t=s.exec(e.location.href);return t&&t[1]?decodeURIComponent(t[1]):""}function f(e){var t=this,n;t.element=n=e.createElement("iframe"),n.src="about:blank",n.style.display="none"}var n="interval",r="hashchange",i="on"+r,s=/#(.*)$/,o=/\?/,u=!1;f.prototype={getElement:function(){return this.element},getHash:function(){return this.element.contentWindow.frameHash},update:function(e){var t=this,n=t.element.contentWindow.document;if(t.getHash()===e)return;n.open(),n.write("<html><head><title>' + document.title + '</title><script type='text/javascript'>var frameHash='"+e+"';</script></head><body>&nbsp;</body></html>"),n.close()}},t.event.special[r]={setup:function(s,l,c){var h=this;if(i in h)return!1;if(!t.isWindow(h))throw new Error("Unable to bind 'hashchange' to a non-window object");var p=t(h),d=a(h),v=h.location;p.data(n,h.setInterval(u?function(){var t=h.document,n=v.protocol==="file:",i=new f(t);return t.body.appendChild(i.getElement()),i.update(d),function(){var t=d,s,u=a(h),f=i.getHash();f!==d&&f!==u?(s=decodeURIComponent(f),d!==s&&(d=s,i.update(d),p.trigger(r,[s,t])),v.hash="#"+encodeURI(n?f.replace(o,"%3F"):f)):u!==d&&(s=decodeURIComponent(u),d!==s&&(d=s,p.trigger(r,[s,t])))}}():function(){var t=d,n,i=a(h);i!==d&&(n=decodeURIComponent(i),d!==n&&(d=n,p.trigger(r,[n,t])))},25))},teardown:function(r){var s=this;if(i in s)return!1;s.clearInterval(t.data(s,n))}}}),define("troopjs-jquery/weave",["jquery"],function(t){function x(e){t(this).unweave()}var n=undefined,r=Array,i=Function,s=r.prototype,o=s.join,u=s.pop,a=t.when,f="then",l="weave",c="unweave",h="woven",p="destroy",d="data-"+l,v="data-"+h,m="["+d+"]",g="["+v+"]",y=/\s*,\s*/,b=/^(["']).*\1$/,w=/^\d+$/,E=/^(?:false|true)$/i,S=/^true$/i;t.fn[l]=function(){var r=[],s=0,c=t(this),g=arguments,T=g.length,N=T>0&&g[T-1][f]instanceof i?u.call(g):n;return c.filter(m).each(function(i,u){var f=t(u),c=f.data(),m=f.attr(d)||"",T=/[\s,]*([\w_\-\/]+)(?:\(([^\)]+)\))?/g,C=[],k=s,L=0,A;f.data(l,m).data(h,C).removeAttr(d);while(A=T.exec(m))t.Deferred(function(i){var o=L++,u,a,l,h;r[s++]=i,i.done(function(t){C[o]=t});var d=A[1],v=[f,d];for(u=0,l=g.length,a=v.length;u<l;u++,a++)v[a]=g[u];var m=A[2];if(m!==n){m=m.split(y);for(u=0,l=m.length,a=v.length;u<l;u++,a++)h=m[u],h in c?v[a]=c[h]:b.test(h)?v[a]=h.slice(1,-1):w.test(h)?v[a]=Number(h):E.test(h)?v[a]=S.test(h):v[a]=h}require([d],function(n){var r=n.apply(n,v).bind(p,x);N&&N.notifyWith(r,["wired",r]),t.Deferred(function(t){r.start(t)}).done(function(){i.resolve(r)}).fail(i.reject)})});a.apply(t,r.slice(k,s)).done(function(){f.attr(v,o.call(arguments," "))})}),N&&a.apply(t,r).then(N.resolve,N.reject),c},t.fn[c]=function(n){var r=[],i=0,s=t(this);return s.filter(g).each(function(n,s){var o=t(s),u=o.data(h),a;o.removeData(h).removeAttr(v);while(a=u.shift())t.Deferred(function(t){r[i++]=t,a.stop(t)});o.attr(d,o.data(l)).removeData(l).unbind(p,x)}),n&&a.apply(t,r).then(n.resolve,n.reject),s}});
