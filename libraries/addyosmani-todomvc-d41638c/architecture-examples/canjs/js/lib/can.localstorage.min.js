can.Model("can.Model.LocalStorage",{localStore:function(b){var c=this.storageName,a=JSON.parse(window.localStorage[c]||(window.localStorage[c]="[]"));!1!==b.call(this,a)&&(can.each(a,function(a){delete a.editing}),window.localStorage[c]=JSON.stringify(a))},findAll:function(){var b=new can.Deferred;this.localStore(function(c){var a=[],d=this;can.each(c,function(b){a.push(new d(b))});b.resolve({data:a})});return b},destroy:function(b){var c=new can.Deferred;this.localStore(function(a){for(var d=0;d<
a.length;d++)if(a[d].id===b){a.splice(d,1);break}c.resolve({})});return c},create:function(b){var c=new can.Deferred;this.localStore(function(a){b.id=b.id||parseInt(1E5*Math.random(),10);a.push(b)});c.resolve({id:b.id});return c},update:function(b,c){var a=new can.Deferred,d;this.localStore(function(a){for(var e=0;e<a.length;e++)if(a[e].id===b){d=a[e];break}can.extend(d,c)});a.resolve({});return a}},{});
